let b={},i,n,o,s,r,h;$("#img_logo").click(async()=>{location.reload()}),$("#button_logout").click(async()=>{location.replace("/clearCookie")});const P=["em em-grinning","em em-grin","em em-money_mouth_face","em em-heart_eyes","em em-blush","em em-star-struck"],S=["em em-angry","em em-anguished","em em-astonished","em em-confused","em em-disappointed","em em-dizzy_face"];window.addEventListener("DOMContentLoaded",async function(t){setTimeout(async()=>{if(logged){var t=logged.replaceAll("&#34;",'"');if((b=JSON.parse(t)).id&&b.network&&b.tag&&b.username&&0<=b.percentage&&b.referrer&&b.created&&b.auth&&b.key){console.log("logged: true");t=b.created.split(" - ");$("#logged_user").html(upperFirstLetter(b.username)),$("#logged_created").html(t[0]+" at "+t[1]),await B(),await A(),await l(),i=await c(),await d(),await C(),await x(),r=await p(),s=await _(),o=await m(),n=await u(),await y(),await f(),await g(),await w(),await D(),await U(),await G(),await Y(),await X(),await J(),await V(),await q(),$(".desktop").removeClass("button_no_pointer");const a=io();let e=0;setInterval(()=>{var t=moment().valueOf();!1===a.connected?e++:console.log(`connected: ${a.connected}, timestamp: ${t}, failed: `+e),navigator.onLine||e++,5<=e&&location.reload()},5e3),a.on("listen-kick-user",async t=>{t.id===b.id&&location.replace("/clearCookie")}),a.on("listen-transaction",async t=>{t.transaction[0].balance_id===b.id&&$(".logged_balance").html("₱ "+numberWithCommas(Number(t.transaction[0].balance_current).toFixed(2))),t.transaction[1].balance_id===b.id&&$(".logged_balance").html("₱ "+numberWithCommas(Number(t.transaction[1].balance_current).toFixed(2)))})}else location.replace("/clearCookie")}},1e3)}),window.addEventListener("offline",async()=>{location.reload()});let t=document.body.clientWidth;async function B(){let e=document.getElementById("agent_referral_link_container"),a=document.getElementById("player_referral_link_container");await axios.post("/register/generate/link",{auth:b.auth,id:b.id,key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){0===t.data.errCode&&(console.log(t.data),e.innerHTML="",a.innerHTML="",t=t.data.links,e.innerHTML=`
            <div class="secondary button_referral clipboard" data-clipboard-text="${t[0].agent}" role="button" style="padding:5px 10px; font-size:0.9em; margin-left:10px; margin-right:10px;" tabindex="0">
                <i class="em em-point_right" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="WHITE RIGHT POINTING BACKHAND INDEX"></i>&nbsp;
                Referral link
            </div>`,a.innerHTML=`
            <div class="secondary button_referral-b clipboard" data-clipboard-text="${t[0].agent}" role="button" style="padding:5px 10px; font-size:0.9em; margin-left:10px; margin-right:10px;" tabindex="0" disabled>
                <i class="em em-point_right" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="WHITE RIGHT POINTING BACKHAND INDEX"></i>&nbsp;
                Referral link
            </div>`)}).catch(function(t){console.log(t)})}Number(t)<=425?document.body.style.zoom=.09*Number(t)+"%":document.body.style.zoom=.065*Number(t)+"%",$("#button_refresh_data_basic_info").click(async()=>{$("#span_refresh_data_basic_info").show(),$("#button_refresh_data_basic_info").addClass("button_no_pointer"),$(".logged_balance").html('<span aria-busy="true"></span>'),$("#user_all_bets").html('<span aria-busy="true"></span>'),$("#user_all_wins").html('<span aria-busy="true"></span>'),$("#user_all_profit").html('<span aria-busy="true"></span>'),await l(),await d(),$("#span_refresh_data_basic_info").hide(),$("#button_refresh_data_basic_info").removeClass("button_no_pointer")}),$("#current_user_change_password").click(async()=>{lt(b.id,"inner_td_me")});let a=new ClipboardJS(".clipboard");async function A(){await axios.post("/login/get/ip",{auth:b.auth,id:b.id,key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){0===t.data.errCode&&(2<=(t=t.data.record).length?($("#logged_ip_current").html(t[0].ip_address),$("#logged_ip_current_dated").html(t[0].ip_date+" - "+t[0].ip_time),$("#logged_ip_recent").html(t[1].ip_address),$("#logged_ip_recent_dated").html(t[1].ip_date+" - "+t[1].ip_time)):($("#logged_ip_current").html(t[0].ip_address),$("#logged_ip_current_dated").html(t[0].ip_date+" - "+t[0].ip_time),$("#logged_ip_recent").html(t[0].ip_address),$("#logged_ip_recent_dated").html(t[0].ip_date+" - "+t[0].ip_time)))}).catch(async function(t){console.log(t)})}async function l(){await axios.post("/transaction/get/balance",{auth:b.auth,id:b.id,key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){0===t.data.errCode&&$(".logged_balance").html("₱ "+numberWithCommas(Number(t.data.balance).toFixed(2)))}).catch(function(t){console.log(t)})}async function d(){var e=i,a=[];for(let t=0;t<e.length;t++)e[t].id_master===b.id&&"agent"!==e[t].tag&&a.push(e[t]);console.log(a);let n=0,o=0;for(let t=0;t<a.length;t++)n+=Number(a[t].total_bet),o+=Number(a[t].total_win);$("#user_all_bets").html("₱ "+numberWithCommas(Math.abs(n).toFixed(2))),$("#user_all_wins").html("₱ "+numberWithCommas(Number(o).toFixed(2)));var t,s=Number(o)-Math.abs(n);s<0?($("#user_all_profit").addClass("pico-color-jade-400"),$("#user_all_profit").html(`₱ ${numberWithCommas(Math.abs(s).toFixed(2))}
        &nbsp;<i aria-role="presentation" style="vertical-align:-2px; font-size:0.6em;" id="i_profit_up_emoji"></i>`),t=getRandomElement(P),$("#i_profit_up_emoji").addClass(t)):($("#user_all_profit").addClass("pico-color-red-400"),$("#user_all_profit").html(`₱ -${numberWithCommas(Number(s).toFixed(2))}
        &nbsp;<i aria-role="presentation" style="vertical-align:-2px; font-size:0.6em;" id="i_profit_down_emoji"></i>`),t=getRandomElement(S),$("#i_profit_down_emoji").addClass(t))}async function c(){let e;return await axios.post("/transaction/get/user/balance/network",{auth:b.auth,id:b.id,network:b.network,key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){e=t.data.account}).catch(function(t){console.log(t)}),e}async function u(){let e;return await axios.post("/transaction/get/user/winloss/network",{auth:b.auth,id:b.id,network:b.network,dated:dated_today(),key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){e=t.data.commission}).catch(function(t){console.log(t)}),e}async function m(){let e;return await axios.post("/transaction/get/user/winloss/network",{auth:b.auth,id:b.id,network:b.network,dated:dated_yesterday(),key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){e=t.data.commission}).catch(function(t){console.log(t)}),e}async function _(){let e;return await axios.post("/transaction/get/user/winloss/network",{auth:b.auth,id:b.id,network:b.network,dated:dated_this_week(),key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){e=t.data.commission}).catch(function(t){console.log(t)}),e}async function p(){let e;return await axios.post("/transaction/get/user/winloss/network",{auth:b.auth,id:b.id,network:b.network,dated:dated_last_week(),key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){e=t.data.commission}).catch(function(t){console.log(t)}),e}async function K(t){let e;return await axios.post("/transaction/get/user/winloss/network",{auth:b.auth,id:b.id,network:b.network,dated:t,key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){e=t.data.commission}).catch(function(t){console.log(t)}),e}async function w(){document.getElementById("winloss_content_today_checkbox").checked=!0;var e=n,l=[];for(let t=0;t<e.length;t++)e[t].id_master===b.id&&"agent"!==e[t].tag&&l.push(e[t]);l.sort(function(t,e){return t.winloss-e.winloss});var d=document.getElementById("tbody_content_winloss"),c=(d.innerHTML="",document.getElementById("tbody_content_winloss_data")),a=(c.innerHTML="",i),u=[];for(let t=0;t<a.length;t++)a[t].id_master===b.id&&"agent"===a[t].tag&&u.push(a[t]);if(0<u.length)for(let i=0;i<u.length;i++){let e=0,a=0,n=0,o=0;for(let t=0;t<l.length;t++)u[i].id===l[t].id_agent&&(e+=Number(l[t].total_bet_count),a+=Number(l[t].total_bet),n+=Number(l[t].total_win),o+=Number(l[t].winloss));let t;t=o<=0?"pico-color-red-400":"pico-color-jade-400";let s,r;var m=Number(o)*u[i].percentage/100,m=(r=0<Number(m)?(s="pico-color-red-400","₱ -"+numberWithCommas(Number(m).toFixed(2))):(s="pico-color-jade-400","₱ "+numberWithCommas(Math.abs(m).toFixed(2))),document.createElement("tr"));m.innerHTML=`
                    <td><kbd class="pico-background-orange-650" style="vertical-align:middle; color:#ffffff; font-size:0.5em; padding:2px 4px; font-weight:bold; font-family:'Sora',sans-serif;">AGNT</kbd>&nbsp;${upperFirstLetter(u[i].username)}</td>
                    <td>${numberWithCommas(Number(e))}</td>
                    <td>₱ ${numberWithCommas(Math.abs(a).toFixed(2))}</td>
                    <td>₱ ${numberWithCommas(Number(n).toFixed(2))}</td>
                    <td>₱ 0.00</td>
                    <td class="${t}">₱ ${numberWithCommas(Number(o).toFixed(2))}</td>
                    <td>${Number(u[i].percentage).toFixed(2)}%</td>
                    <td class="${s}">${r}</td>`,d.appendChild(m)}else{var t=document.createElement("tr");t.innerHTML='<td colspan="8">No data yet.</td>',d.appendChild(t)}if(0<l.length){let o=0,s=0,r=0,i=0;for(let n=0;n<l.length;n++){o+=Number(l[n].total_bet_count),s+=Number(l[n].total_bet),r+=Number(l[n].total_win),i+=Number(l[n].winloss);let t;"player"===l[n].tag&&(t=`<kbd class="pico-background-zinc-650"   style="vertical-align:middle; color:#ffffff; font-size:0.5em; padding:2px 4px; font-weight:bold; font-family:'Sora',sans-serif;">PLYR</kbd>`);let e;e=Number(l[n].winloss)<=0?"pico-color-red-400":"pico-color-jade-400";var _=Number(l[n].total_win_count)/Number(l[n].total_bet_count)*100;let a;0<=Number(_)&&Number(_)<30?a="pico-color-slate-400":30<=Number(_)&&Number(_)<80?a="pico-color-pumpkin-400":80<=Number(_)&&Number(_)<200&&(a="pico-color-jade-400");var p=document.createElement("tr");p.classList="filter_network",p.innerHTML=`
                    <td style="font-weight:bold;">${upperFirstLetter(l[n].username_master)}</td>
                    <td class="${e}">₱ ${numberWithCommas(Number(l[n].winloss).toFixed(2))}</td>
                    <td>${t}&nbsp;${upperFirstLetter(l[n].username)}</td>
                    <td>₱ ${numberWithCommas(Math.abs(l[n].total_bet).toFixed(2))}</td>
                    <td>₱ ${numberWithCommas(Number(l[n].total_win).toFixed(2))}</td>
                    <td>₱ 0.00</td>
                    <td class="${a}">${Number(_).toFixed(2)}%</td>
                    <td>${numberWithCommas(Number(l[n].total_bet_count))}</td>
                    <td>${numberWithCommas(Number(l[n].total_win_count))}</td>`,c.appendChild(p)}t=.15*Math.abs(i);i<0?($("#winloss_today").addClass("pico-color-red-400"),$("#ggr_today").addClass("pico-color-jade-400"),$("#ggr_today").html("₱ "+numberWithCommas(Number(t).toFixed(2)))):($("#winloss_today").addClass("pico-color-jade-400"),$("#ggr_today").html("₱ 0.00")),$("#valid_turnover_today").html("₱ "+numberWithCommas(Math.abs(s).toFixed(2))),$("#winnings_today").html("₱ "+numberWithCommas(Number(r).toFixed(2))),$("#winloss_today").html("₱ "+numberWithCommas(Number(i).toFixed(2))),$("#bet_count_today").html(""+numberWithCommas(Number(o))),$("#active_user_today").html(""+numberWithCommas(Number(l.length))),$("#winloss_content_today").removeClass("pico-color-grey-50"),$("#winloss_content_today").removeClass("pico-color-red-400"),$("#winloss_content_today").removeClass("pico-color-jade-400"),Number(i)<=0?$("#winloss_content_today").addClass("pico-color-red-400"):$("#winloss_content_today").addClass("pico-color-jade-400"),$("#winloss_content_today").html("₱ "+numberWithCommas(Number(i).toFixed(2)))}else{$("#valid_turnover_today").html("₱ 0.00"),$("#winnings_today").html("₱ 0.00"),$("#winloss_today").html("₱ 0.00"),$("#ggr_today").html("₱ 0.00"),$("#bet_count_today").html("0"),$("#active_user_today").html("0"),$("#winloss_content_today").removeClass("pico-color-grey-50"),$("#winloss_content_today").removeClass("pico-color-red-400"),$("#winloss_content_today").removeClass("pico-color-jade-400"),$("#winloss_content_today").addClass("pico-color-red-400"),$("#winloss_content_today").html("₱ 0.00");t=document.createElement("tr");t.classList="filter_network",t.innerHTML='<td colspan="9">No data yet.</td>',c.appendChild(t)}}async function g(){document.getElementById("winloss_content_yesterday_checkbox").checked=!0;var e=o,l=[];for(let t=0;t<e.length;t++)e[t].id_master===b.id&&"agent"!==e[t].tag&&l.push(e[t]);l.sort(function(t,e){return t.winloss-e.winloss});var d=document.getElementById("tbody_content_winloss"),c=(d.innerHTML="",document.getElementById("tbody_content_winloss_data")),a=(c.innerHTML="",i),u=[];for(let t=0;t<a.length;t++)a[t].id_master===b.id&&"agent"===a[t].tag&&u.push(a[t]);if(0<u.length)for(let i=0;i<u.length;i++){let e=0,a=0,n=0,o=0;for(let t=0;t<l.length;t++)u[i].id===l[t].id_agent&&(e+=Number(l[t].total_bet_count),a+=Number(l[t].total_bet),n+=Number(l[t].total_win),o+=Number(l[t].winloss));let t;t=o<=0?"pico-color-red-400":"pico-color-jade-400";let s,r;var m=Number(o)*u[i].percentage/100,m=(r=0<Number(m)?(s="pico-color-red-400","₱ -"+numberWithCommas(Number(m).toFixed(2))):(s="pico-color-jade-400","₱ "+numberWithCommas(Math.abs(m).toFixed(2))),document.createElement("tr"));m.innerHTML=`
                    <td><kbd class="pico-background-orange-650" style="vertical-align:middle; color:#ffffff; font-size:0.5em; padding:2px 4px; font-weight:bold; font-family:'Sora',sans-serif;">AGNT</kbd>&nbsp;${upperFirstLetter(u[i].username)}</td>
                    <td>${numberWithCommas(Number(e))}</td>
                    <td>₱ ${numberWithCommas(Math.abs(a).toFixed(2))}</td>
                    <td>₱ ${numberWithCommas(Number(n).toFixed(2))}</td>
                    <td>₱ 0.00</td>
                    <td class="${t}">₱ ${numberWithCommas(Number(o).toFixed(2))}</td>
                    <td>${Number(u[i].percentage).toFixed(2)}%</td>
                    <td class="${s}">${r}</td>`,d.appendChild(m)}else{var t=document.createElement("tr");t.innerHTML='<td colspan="8">No data yet.</td>',d.appendChild(t)}if(0<l.length){let o=0,s=0,r=0,i=0;for(let n=0;n<l.length;n++){o+=Number(l[n].total_bet_count),s+=Number(l[n].total_bet),r+=Number(l[n].total_win),i+=Number(l[n].winloss);let t;"player"===l[n].tag&&(t=`<kbd class="pico-background-zinc-650"   style="vertical-align:middle; color:#ffffff; font-size:0.5em; padding:2px 4px; font-weight:bold; font-family:'Sora',sans-serif;">PLYR</kbd>`);let e;e=Number(l[n].winloss)<=0?"pico-color-red-400":"pico-color-jade-400";var _=Number(l[n].total_win_count)/Number(l[n].total_bet_count)*100;let a;0<=Number(_)&&Number(_)<30?a="pico-color-slate-400":30<=Number(_)&&Number(_)<80?a="pico-color-pumpkin-400":80<=Number(_)&&Number(_)<200&&(a="pico-color-jade-400");var p=document.createElement("tr");p.classList="filter_network",p.innerHTML=`
                    <td style="font-weight:bold;">${upperFirstLetter(l[n].username_master)}</td>
                    <td class="${e}">₱ ${numberWithCommas(Number(l[n].winloss).toFixed(2))}</td>
                    <td>${t}&nbsp;${upperFirstLetter(l[n].username)}</td>
                    <td>₱ ${numberWithCommas(Math.abs(l[n].total_bet).toFixed(2))}</td>
                    <td>₱ ${numberWithCommas(Number(l[n].total_win).toFixed(2))}</td>
                    <td>₱ 0.00</td>
                    <td class="${a}">${Number(_).toFixed(2)}%</td>
                    <td>${numberWithCommas(Number(l[n].total_bet_count))}</td>
                    <td>${numberWithCommas(Number(l[n].total_win_count))}</td>`,c.appendChild(p)}t=.15*Math.abs(i);i<0?($("#winloss_yesterday").addClass("pico-color-red-400"),$("#ggr_yesterday").addClass("pico-color-jade-400"),$("#ggr_yesterday").html("₱ "+numberWithCommas(Number(t).toFixed(2)))):($("#winloss_yesterday").addClass("pico-color-jade-400"),$("#ggr_yesterday").html("₱ 0.00")),$("#valid_turnover_yesterday").html("₱ "+numberWithCommas(Math.abs(s).toFixed(2))),$("#winnings_yesterday").html("₱ "+numberWithCommas(Number(r).toFixed(2))),$("#winloss_yesterday").html("₱ "+numberWithCommas(Number(i).toFixed(2))),$("#bet_count_yesterday").html(""+numberWithCommas(Number(o))),$("#active_user_yesterday").html(""+numberWithCommas(Number(l.length))),$("#winloss_content_yesterday").removeClass("pico-color-grey-50"),$("#winloss_content_yesterday").removeClass("pico-color-red-400"),$("#winloss_content_yesterday").removeClass("pico-color-jade-400"),Number(i)<=0?$("#winloss_content_yesterday").addClass("pico-color-red-400"):$("#winloss_content_yesterday").addClass("pico-color-jade-400"),$("#winloss_content_yesterday").html("₱ "+numberWithCommas(Number(i).toFixed(2)))}else{$("#valid_turnover_yesterday").html("₱ 0.00"),$("#winnings_yesterday").html("₱ 0.00"),$("#winloss_yesterday").html("₱ 0.00"),$("#ggr_yesterday").html("₱ 0.00"),$("#bet_count_yesterday").html("0"),$("#active_user_yesterday").html("0"),$("#winloss_content_yesterday").removeClass("pico-color-grey-50"),$("#winloss_content_yesterday").removeClass("pico-color-red-400"),$("#winloss_content_yesterday").removeClass("pico-color-jade-400"),$("#winloss_content_yesterday").addClass("pico-color-red-400"),$("#winloss_content_yesterday").html("₱ 0.00");t=document.createElement("tr");t.classList="filter_network",t.innerHTML='<td colspan="9">No data yet.</td>',c.appendChild(t)}}async function f(){document.getElementById("winloss_content_this_week_checkbox").checked=!0;var e=s,l=[];for(let t=0;t<e.length;t++)e[t].id_master===b.id&&"agent"!==e[t].tag&&l.push(e[t]);l.sort(function(t,e){return t.winloss-e.winloss});var d=document.getElementById("tbody_content_winloss"),c=(d.innerHTML="",document.getElementById("tbody_content_winloss_data")),a=(c.innerHTML="",i),u=[];for(let t=0;t<a.length;t++)a[t].id_master===b.id&&"agent"===a[t].tag&&u.push(a[t]);if(0<u.length)for(let i=0;i<u.length;i++){let e=0,a=0,n=0,o=0;for(let t=0;t<l.length;t++)u[i].id===l[t].id_agent&&(e+=Number(l[t].total_bet_count),a+=Number(l[t].total_bet),n+=Number(l[t].total_win),o+=Number(l[t].winloss));let t;t=o<=0?"pico-color-red-400":"pico-color-jade-400";let s,r;var m=Number(o)*u[i].percentage/100,m=(r=0<Number(m)?(s="pico-color-red-400","₱ -"+numberWithCommas(Number(m).toFixed(2))):(s="pico-color-jade-400","₱ "+numberWithCommas(Math.abs(m).toFixed(2))),document.createElement("tr"));m.innerHTML=`
                    <td><kbd class="pico-background-orange-650" style="vertical-align:middle; color:#ffffff; font-size:0.5em; padding:2px 4px; font-weight:bold; font-family:'Sora',sans-serif;">AGNT</kbd>&nbsp;${upperFirstLetter(u[i].username)}</td>
                    <td>${numberWithCommas(Number(e))}</td>
                    <td>₱ ${numberWithCommas(Math.abs(a).toFixed(2))}</td>
                    <td>₱ ${numberWithCommas(Number(n).toFixed(2))}</td>
                    <td>₱ 0.00</td>
                    <td class="${t}">₱ ${numberWithCommas(Number(o).toFixed(2))}</td>
                    <td>${Number(u[i].percentage).toFixed(2)}%</td>
                    <td class="${s}">${r}</td>`,d.appendChild(m)}else{var t=document.createElement("tr");t.innerHTML='<td colspan="8">No data yet.</td>',d.appendChild(t)}if(0<l.length){let o=0,s=0,r=0,i=0;for(let n=0;n<l.length;n++){o+=Number(l[n].total_bet_count),s+=Number(l[n].total_bet),r+=Number(l[n].total_win),i+=Number(l[n].winloss);let t;"player"===l[n].tag&&(t=`<kbd class="pico-background-zinc-650"   style="vertical-align:middle; color:#ffffff; font-size:0.5em; padding:2px 4px; font-weight:bold; font-family:'Sora',sans-serif;">PLYR</kbd>`);let e;e=Number(l[n].winloss)<=0?"pico-color-red-400":"pico-color-jade-400";var _=Number(l[n].total_win_count)/Number(l[n].total_bet_count)*100;let a;0<=Number(_)&&Number(_)<30?a="pico-color-slate-400":30<=Number(_)&&Number(_)<80?a="pico-color-pumpkin-400":80<=Number(_)&&Number(_)<200&&(a="pico-color-jade-400");var p=document.createElement("tr");p.classList="filter_network",p.innerHTML=`
                    <td style="font-weight:bold;">${upperFirstLetter(l[n].username_master)}</td>
                    <td class="${e}">₱ ${numberWithCommas(Number(l[n].winloss).toFixed(2))}</td>
                    <td>${t}&nbsp;${upperFirstLetter(l[n].username)}</td>
                    <td>₱ ${numberWithCommas(Math.abs(l[n].total_bet).toFixed(2))}</td>
                    <td>₱ ${numberWithCommas(Number(l[n].total_win).toFixed(2))}</td>
                    <td>₱ 0.00</td>
                    <td class="${a}">${Number(_).toFixed(2)}%</td>
                    <td>${numberWithCommas(Number(l[n].total_bet_count))}</td>
                    <td>${numberWithCommas(Number(l[n].total_win_count))}</td>`,c.appendChild(p)}t=.15*Math.abs(i);i<0?($("#winloss_this_week").addClass("pico-color-red-400"),$("#ggr_this_week").addClass("pico-color-jade-400"),$("#ggr_this_week").html("₱ "+numberWithCommas(Number(t).toFixed(2)))):($("#winloss_this_week").addClass("pico-color-jade-400"),$("#ggr_this_week").html("₱ 0.00")),$("#valid_turnover_this_week").html("₱ "+numberWithCommas(Math.abs(s).toFixed(2))),$("#winnings_this_week").html("₱ "+numberWithCommas(Number(r).toFixed(2))),$("#winloss_this_week").html("₱ "+numberWithCommas(Number(i).toFixed(2))),$("#bet_count_this_week").html(""+numberWithCommas(Number(o))),$("#active_user_this_week").html(""+numberWithCommas(Number(l.length))),$("#winloss_content_this_week").removeClass("pico-color-grey-50"),$("#winloss_content_this_week").removeClass("pico-color-red-400"),$("#winloss_content_this_week").removeClass("pico-color-jade-400"),Number(i)<=0?$("#winloss_content_this_week").addClass("pico-color-red-400"):$("#winloss_content_this_week").addClass("pico-color-jade-400"),$("#winloss_content_this_week").html("₱ "+numberWithCommas(Number(i).toFixed(2)))}else{$("#valid_turnover_this_week").html("₱ 0.00"),$("#winnings_this_week").html("₱ 0.00"),$("#winloss_this_week").html("₱ 0.00"),$("#ggr_this_week").html("₱ 0.00"),$("#bet_count_this_week").html("0"),$("#active_user_this_week").html("0"),$("#winloss_content_this_week").removeClass("pico-color-grey-50"),$("#winloss_content_this_week").removeClass("pico-color-red-400"),$("#winloss_content_this_week").removeClass("pico-color-jade-400"),$("#winloss_content_this_week").addClass("pico-color-red-400"),$("#winloss_content_this_week").html("₱ 0.00");t=document.createElement("tr");t.classList="filter_network",t.innerHTML='<td colspan="9">No data yet.</td>',c.appendChild(t)}}async function y(){document.getElementById("winloss_content_last_week_checkbox").checked=!0;var e=r,l=[];for(let t=0;t<e.length;t++)e[t].id_master===b.id&&"agent"!==e[t].tag&&l.push(e[t]);l.sort(function(t,e){return t.winloss-e.winloss});var d=document.getElementById("tbody_content_winloss"),c=(d.innerHTML="",document.getElementById("tbody_content_winloss_data")),a=(c.innerHTML="",i),u=[];for(let t=0;t<a.length;t++)a[t].id_master===b.id&&"agent"===a[t].tag&&u.push(a[t]);if(0<u.length)for(let i=0;i<u.length;i++){let e=0,a=0,n=0,o=0;for(let t=0;t<l.length;t++)u[i].id===l[t].id_agent&&(e+=Number(l[t].total_bet_count),a+=Number(l[t].total_bet),n+=Number(l[t].total_win),o+=Number(l[t].winloss));let t;t=o<=0?"pico-color-red-400":"pico-color-jade-400";let s,r;var m=Number(o)*u[i].percentage/100,m=(r=0<Number(m)?(s="pico-color-red-400","₱ -"+numberWithCommas(Number(m).toFixed(2))):(s="pico-color-jade-400","₱ "+numberWithCommas(Math.abs(m).toFixed(2))),document.createElement("tr"));m.innerHTML=`
                    <td><kbd class="pico-background-orange-650" style="vertical-align:middle; color:#ffffff; font-size:0.5em; padding:2px 4px; font-weight:bold; font-family:'Sora',sans-serif;">AGNT</kbd>&nbsp;${upperFirstLetter(u[i].username)}</td>
                    <td>${numberWithCommas(Number(e))}</td>
                    <td>₱ ${numberWithCommas(Math.abs(a).toFixed(2))}</td>
                    <td>₱ ${numberWithCommas(Number(n).toFixed(2))}</td>
                    <td>₱ 0.00</td>
                    <td class="${t}">₱ ${numberWithCommas(Number(o).toFixed(2))}</td>
                    <td>${Number(u[i].percentage).toFixed(2)}%</td>
                    <td class="${s}">${r}</td>`,d.appendChild(m)}else{var t=document.createElement("tr");t.innerHTML='<td colspan="8">No data yet.</td>',d.appendChild(t)}if(0<l.length){let o=0,s=0,r=0,i=0;for(let n=0;n<l.length;n++){o+=Number(l[n].total_bet_count),s+=Number(l[n].total_bet),r+=Number(l[n].total_win),i+=Number(l[n].winloss);let t;"player"===l[n].tag&&(t=`<kbd class="pico-background-zinc-650"   style="vertical-align:middle; color:#ffffff; font-size:0.5em; padding:2px 4px; font-weight:bold; font-family:'Sora',sans-serif;">PLYR</kbd>`);let e;e=Number(l[n].winloss)<=0?"pico-color-red-400":"pico-color-jade-400";var _=Number(l[n].total_win_count)/Number(l[n].total_bet_count)*100;let a;0<=Number(_)&&Number(_)<30?a="pico-color-slate-400":30<=Number(_)&&Number(_)<80?a="pico-color-pumpkin-400":80<=Number(_)&&Number(_)<200&&(a="pico-color-jade-400");var p=document.createElement("tr");p.classList="filter_network",p.innerHTML=`
                    <td style="font-weight:bold;">${upperFirstLetter(l[n].username_master)}</td>
                    <td class="${e}">₱ ${numberWithCommas(Number(l[n].winloss).toFixed(2))}</td>
                    <td>${t}&nbsp;${upperFirstLetter(l[n].username)}</td>
                    <td>₱ ${numberWithCommas(Math.abs(l[n].total_bet).toFixed(2))}</td>
                    <td>₱ ${numberWithCommas(Number(l[n].total_win).toFixed(2))}</td>
                    <td>₱ 0.00</td>
                    <td class="${a}">${Number(_).toFixed(2)}%</td>
                    <td>${numberWithCommas(Number(l[n].total_bet_count))}</td>
                    <td>${numberWithCommas(Number(l[n].total_win_count))}</td>`,c.appendChild(p)}t=.15*Math.abs(i);i<0?($("#winloss_last_week").addClass("pico-color-red-400"),$("#ggr_last_week").addClass("pico-color-jade-400"),$("#ggr_last_week").html("₱ "+numberWithCommas(Number(t).toFixed(2)))):($("#winloss_last_week").addClass("pico-color-jade-400"),$("#ggr_last_week").html("₱ 0.00")),$("#valid_turnover_last_week").html("₱ "+numberWithCommas(Math.abs(s).toFixed(2))),$("#winnings_last_week").html("₱ "+numberWithCommas(Number(r).toFixed(2))),$("#winloss_last_week").html("₱ "+numberWithCommas(Number(i).toFixed(2))),$("#bet_count_last_week").html(""+numberWithCommas(Number(o))),$("#active_user_last_week").html(""+numberWithCommas(Number(l.length))),$("#winloss_content_last_week").removeClass("pico-color-grey-50"),$("#winloss_content_last_week").removeClass("pico-color-red-400"),$("#winloss_content_last_week").removeClass("pico-color-jade-400"),Number(i)<=0?$("#winloss_content_last_week").addClass("pico-color-red-400"):$("#winloss_content_last_week").addClass("pico-color-jade-400"),$("#winloss_content_last_week").html("₱ "+numberWithCommas(Number(i).toFixed(2)))}else{$("#valid_turnover_last_week").html("₱ 0.00"),$("#winnings_last_week").html("₱ 0.00"),$("#winloss_last_week").html("₱ 0.00"),$("#ggr_last_week").html("₱ 0.00"),$("#bet_count_last_week").html("0"),$("#active_user_last_week").html("0"),$("#winloss_content_last_week").removeClass("pico-color-grey-50"),$("#winloss_content_last_week").removeClass("pico-color-red-400"),$("#winloss_content_last_week").removeClass("pico-color-jade-400"),$("#winloss_content_last_week").addClass("pico-color-red-400"),$("#winloss_content_last_week").html("₱ 0.00");t=document.createElement("tr");t.classList="filter_network",t.innerHTML='<td colspan="9">No data yet.</td>',c.appendChild(t)}}async function R(){var e=h,l=[];for(let t=0;t<e.length;t++)e[t].id_master===b.id&&"agent"!==e[t].tag&&l.push(e[t]);l.sort(function(t,e){return t.winloss-e.winloss});var d=document.getElementById("tbody_content_winloss"),c=(d.innerHTML="",document.getElementById("tbody_content_winloss_data")),a=(c.innerHTML="",i),u=[];for(let t=0;t<a.length;t++)a[t].id_master===b.id&&"agent"===a[t].tag&&u.push(a[t]);if(0<u.length)for(let i=0;i<u.length;i++){let e=0,a=0,n=0,o=0;for(let t=0;t<l.length;t++)u[i].id===l[t].id_agent&&(e+=Number(l[t].total_bet_count),a+=Number(l[t].total_bet),n+=Number(l[t].total_win),o+=Number(l[t].winloss));let t;t=o<=0?"pico-color-red-400":"pico-color-jade-400";let s,r;var m=Number(o)*u[i].percentage/100,m=(r=0<Number(m)?(s="pico-color-red-400","₱ -"+numberWithCommas(Number(m).toFixed(2))):(s="pico-color-jade-400","₱ "+numberWithCommas(Math.abs(m).toFixed(2))),document.createElement("tr"));m.innerHTML=`
                    <td><kbd class="pico-background-orange-650" style="vertical-align:middle; color:#ffffff; font-size:0.5em; padding:2px 4px; font-weight:bold; font-family:'Sora',sans-serif;">AGNT</kbd>&nbsp;${upperFirstLetter(u[i].username)}</td>
                    <td>${numberWithCommas(Number(e))}</td>
                    <td>₱ ${numberWithCommas(Math.abs(a).toFixed(2))}</td>
                    <td>₱ ${numberWithCommas(Number(n).toFixed(2))}</td>
                    <td>₱ 0.00</td>
                    <td class="${t}">₱ ${numberWithCommas(Number(o).toFixed(2))}</td>
                    <td>${Number(u[i].percentage).toFixed(2)}%</td>
                    <td class="${s}">${r}</td>`,d.appendChild(m)}else{var t=document.createElement("tr");t.innerHTML='<td colspan="8">No data yet.</td>',d.appendChild(t)}if(0<l.length){let o=0,s=0,r=0,i=0;for(let n=0;n<l.length;n++){o+=Number(l[n].total_bet_count),s+=Number(l[n].total_bet),r+=Number(l[n].total_win),i+=Number(l[n].winloss);let t;"player"===l[n].tag&&(t=`<kbd class="pico-background-zinc-650"   style="vertical-align:middle; color:#ffffff; font-size:0.5em; padding:2px 4px; font-weight:bold; font-family:'Sora',sans-serif;">PLYR</kbd>`);let e;e=Number(l[n].winloss)<=0?"pico-color-red-400":"pico-color-jade-400";var _=Number(l[n].total_win_count)/Number(l[n].total_bet_count)*100;let a;0<=Number(_)&&Number(_)<30?a="pico-color-slate-400":30<=Number(_)&&Number(_)<80?a="pico-color-pumpkin-400":80<=Number(_)&&Number(_)<200&&(a="pico-color-jade-400");var p=document.createElement("tr");p.classList="filter_network",p.innerHTML=`
                    <td style="font-weight:bold;">${upperFirstLetter(l[n].username_master)}</td>
                    <td class="${e}">₱ ${numberWithCommas(Number(l[n].winloss).toFixed(2))}</td>
                    <td>${t}&nbsp;${upperFirstLetter(l[n].username)}</td>
                    <td>₱ ${numberWithCommas(Math.abs(l[n].total_bet).toFixed(2))}</td>
                    <td>₱ ${numberWithCommas(Number(l[n].total_win).toFixed(2))}</td>
                    <td>₱ 0.00</td>
                    <td class="${a}">${Number(_).toFixed(2)}%</td>
                    <td>${numberWithCommas(Number(l[n].total_bet_count))}</td>
                    <td>${numberWithCommas(Number(l[n].total_win_count))}</td>`,c.appendChild(p)}t=.15*Math.abs(i);i<0?($("#winloss_custom").addClass("pico-color-red-400"),$("#ggr_custom").addClass("pico-color-jade-400"),$("#ggr_custom").html("₱ "+numberWithCommas(Number(t).toFixed(2)))):($("#winloss_custom").addClass("pico-color-jade-400"),$("#ggr_custom").html("₱ 0.00")),$("#valid_turnover_custom").html("₱ "+numberWithCommas(Math.abs(s).toFixed(2))),$("#winnings_custom").html("₱ "+numberWithCommas(Number(r).toFixed(2))),$("#winloss_custom").html("₱ "+numberWithCommas(Number(i).toFixed(2))),$("#bet_count_custom").html(""+numberWithCommas(Number(o))),$("#active_user_custom").html(""+numberWithCommas(Number(l.length))),$("#winloss_content_custom").removeClass("pico-color-grey-50"),$("#winloss_content_custom").removeClass("pico-color-red-400"),$("#winloss_content_custom").removeClass("pico-color-jade-400"),Number(i)<=0?$("#winloss_content_custom").addClass("pico-color-red-400"):$("#winloss_content_custom").addClass("pico-color-jade-400"),$("#winloss_content_custom").html("₱ "+numberWithCommas(Number(i).toFixed(2)))}else{$("#valid_turnover_custom").html("₱ 0.00"),$("#winnings_custom").html("₱ 0.00"),$("#winloss_custom").html("₱ 0.00"),$("#ggr_custom").html("₱ 0.00"),$("#bet_count_custom").html("0"),$("#active_user_custom").html("0"),$("#winloss_content_custom").removeClass("pico-color-grey-50"),$("#winloss_content_custom").removeClass("pico-color-red-400"),$("#winloss_content_custom").removeClass("pico-color-jade-400"),$("#winloss_content_custom").addClass("pico-color-red-400"),$("#winloss_content_custom").html("₱ 0.00");t=document.createElement("tr");t.classList="filter_network",t.innerHTML='<td colspan="9">No data yet.</td>',c.appendChild(t)}$("#button_custom_dates").attr("aria-busy",!1),$("#button_custom_dates").attr("disabled",!1),$("#button_custom_dates").html("Custom dates")}async function D(){var t=`["${moment().tz("Asia/Manila").format("LL")}"]`;await axios.post("/transaction/get/user/new/network",{auth:b.auth,id:b.id,network:b.network,dated:t,key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){if(0===t.data.errCode){let e=0;var a=[],n=t.data.new;for(let t=0;t<n.length;t++)n[t].id_master===b.id&&a.push(n[t]);if(0<a.length){for(let t=0;t<a.length;t++)"player"===a[t].tag&&e++;$("#new_player_today").html(""+numberWithCommas(Number(e))),$("#newly_registered_today").html(""+numberWithCommas(Number(a.length)))}else $("#new_player_today").html("0"),$("#newly_registered_today").html("0")}}).catch(function(t){console.log(t)})}async function U(){var t=`["${moment().tz("Asia/Manila").subtract(1,"days").format("LL")}"]`;await axios.post("/transaction/get/user/new/network",{auth:b.auth,id:b.id,network:b.network,dated:t,key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){if(0===t.data.errCode){let e=0;var a=[],n=t.data.new;for(let t=0;t<n.length;t++)n[t].id_master===b.id&&a.push(n[t]);if(0<a.length){for(let t=0;t<a.length;t++)"player"===a[t].tag&&e++;$("#new_player_yesterday").html(""+numberWithCommas(Number(e))),$("#newly_registered_yesterday").html(""+numberWithCommas(Number(a.length)))}else $("#new_player_yesterday").html("0"),$("#newly_registered_yesterday").html("0")}}).catch(function(t){console.log(t)})}async function G(){var t=get_current_week(),t=`["${t[0]}", "${t[1]}", "${t[2]}", "${t[3]}", "${t[4]}", "${t[5]}", "${t[6]}"]`;await axios.post("/transaction/get/user/new/network",{auth:b.auth,id:b.id,network:b.network,dated:t,key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){if(0===t.data.errCode){let e=0;var a=[],n=t.data.new;for(let t=0;t<n.length;t++)n[t].id_master===b.id&&a.push(n[t]);if(0<a.length){for(let t=0;t<a.length;t++)"player"===a[t].tag&&e++;$("#new_player_this_week").html(""+numberWithCommas(Number(e))),$("#newly_registered_this_week").html(""+numberWithCommas(Number(a.length)))}else $("#new_player_this_week").html("0"),$("#newly_registered_this_week").html("0")}}).catch(function(t){console.log(t)})}async function Y(){var t=get_last_week(),t=`["${t[0]}", "${t[1]}", "${t[2]}", "${t[3]}", "${t[4]}", "${t[5]}", "${t[6]}"]`;await axios.post("/transaction/get/user/new/network",{auth:b.auth,id:b.id,network:b.network,dated:t,key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){if(0===t.data.errCode){let e=0;var a=[],n=t.data.new;for(let t=0;t<n.length;t++)n[t].id_master===b.id&&a.push(n[t]);if(0<a.length){for(let t=0;t<a.length;t++)"player"===a[t].tag&&e++;$("#new_player_last_week").html(""+numberWithCommas(Number(e))),$("#newly_registered_last_week").html(""+numberWithCommas(Number(a.length)))}else $("#new_player_last_week").html("0"),$("#newly_registered_last_week").html("0")}}).catch(function(t){console.log(t)})}async function X(){await axios.post("/transaction/get/user/deposit_withdraw/network",{auth:b.auth,id:b.id,network:b.network,dated:dated_today(),key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){if(0===t.data.errCode){let e=0;var n=t.data.deposit;if(0<n.length){for(let t=0;t<n.length;t++)n[t].id_master===b.id&&(e+=Number(n[t].amount));$("#deposit_today").html("₱ "+numberWithCommas(Number(e)))}else $("#deposit_today").html("₱ 0.00");let a=0;var o=t.data.withdraw;if(0<o.length){for(let t=0;t<o.length;t++)o[t].id_master===b.id&&(a+=Number(o[t].amount));$("#withdraw_today").html("₱ "+numberWithCommas(Math.abs(a)))}else $("#withdraw_today").html("₱ 0.00");t=Number(e)-Math.abs(a);0<t?$("#difference_today").addClass("pico-color-jade-400"):$("#difference_today").addClass("pico-color-red-400"),$("#difference_today").html("₱ "+numberWithCommas(Number(t)))}}).catch(function(t){console.log(t)})}async function J(){await axios.post("/transaction/get/user/deposit_withdraw/network",{auth:b.auth,id:b.id,network:b.network,dated:dated_yesterday(),key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){if(0===t.data.errCode){let e=0;var n=t.data.deposit;if(0<n.length){for(let t=0;t<n.length;t++)n[t].id_master===b.id&&(e+=Number(n[t].amount));$("#deposit_yesterday").html("₱ "+numberWithCommas(Number(e)))}else $("#deposit_yesterday").html("₱ 0.00");let a=0;var o=t.data.withdraw;if(0<o.length){for(let t=0;t<o.length;t++)o[t].id_master===b.id&&(a+=Number(o[t].amount));$("#withdraw_yesterday").html("₱ "+numberWithCommas(Math.abs(a)))}else $("#withdraw_yesterday").html("₱ 0.00");t=Number(e)-Math.abs(a);0<t?$("#difference_yesterday").addClass("pico-color-jade-400"):$("#difference_yesterday").addClass("pico-color-red-400"),$("#difference_yesterday").html("₱ "+numberWithCommas(Number(t)))}}).catch(function(t){console.log(t)})}async function V(){await axios.post("/transaction/get/user/deposit_withdraw/network",{auth:b.auth,id:b.id,network:b.network,dated:dated_this_week(),key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){if(0===t.data.errCode){let e=0;var n=t.data.deposit;if(0<n.length){for(let t=0;t<n.length;t++)n[t].id_master===b.id&&(e+=Number(n[t].amount));$("#deposit_this_week").html("₱ "+numberWithCommas(Number(e)))}else $("#deposit_this_week").html("₱ 0.00");let a=0;var o=t.data.withdraw;if(0<o.length){for(let t=0;t<o.length;t++)o[t].id_master===b.id&&(a+=Number(o[t].amount));$("#withdraw_this_week").html("₱ "+numberWithCommas(Math.abs(a)))}else $("#withdraw_this_week").html("₱ 0.00");t=Number(e)-Math.abs(a);0<t?$("#difference_this_week").addClass("pico-color-jade-400"):$("#difference_this_week").addClass("pico-color-red-400"),$("#difference_this_week").html("₱ "+numberWithCommas(Number(t)))}}).catch(function(t){console.log(t)})}async function q(){await axios.post("/transaction/get/user/deposit_withdraw/network",{auth:b.auth,id:b.id,network:b.network,dated:dated_last_week(),key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){if(0===t.data.errCode){let e=0;var n=t.data.deposit;if(0<n.length){for(let t=0;t<n.length;t++)n[t].id_master===b.id&&(e+=Number(n[t].amount));$("#deposit_last_week").html("₱ "+numberWithCommas(Number(e)))}else $("#deposit_last_week").html("₱ 0.00");let a=0;var o=t.data.withdraw;if(0<o.length){for(let t=0;t<o.length;t++)o[t].id_master===b.id&&(a+=Number(o[t].amount));$("#withdraw_last_week").html("₱ "+numberWithCommas(Math.abs(a)))}else $("#withdraw_last_week").html("₱ 0.00");t=Number(e)-Math.abs(a);0<t?$("#difference_last_week").addClass("pico-color-jade-400"):$("#difference_last_week").addClass("pico-color-red-400"),$("#difference_last_week").html("₱ "+numberWithCommas(Number(t)))}}).catch(function(t){console.log(t)})}async function k(){document.getElementById("winloss_content_today_checkbox").checked=!1,document.getElementById("winloss_content_yesterday_checkbox").checked=!1,document.getElementById("winloss_content_this_week_checkbox").checked=!1,document.getElementById("winloss_content_last_week_checkbox").checked=!1}async function C(){var o=document.getElementById("tbody_content_agent"),e=(o.innerHTML="",i),s=[];for(let t=0;t<e.length;t++)e[t].id_master===b.id&&"agent"===e[t].tag&&s.push(e[t]);if(total_balance=0,s.sort(function(t,e){return e.balance-t.balance}),0<s.length){for(let n=0;n<s.length;n++){let t;Number(0<s[n].balance)&&(t="pico-color-jade-400");let e,a;a="active"===s[n].status?(e='<i class="em em-unlock" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="OPEN LOCK"></i>',`
                    <td>
                        <a class="secondary" onclick="open_modal_percentage('${s[n].id}', '${s[n].percentage}', 'inner_td_agent')">Percentage</a>&nbsp;-&nbsp;
                        <a class="secondary" onclick="open_modal_transfer_funds('${s[n].network}', '${s[n].id}', '${s[n].username}',
                                                                                '${s[n].tag}', '${s[n].referrer}', 'inner_td_agent')">Transfer</a>&nbsp;-&nbsp;
                        <a class="secondary" onclick="open_modal_deduct_funds('${s[n].network}', '${s[n].id}', '${s[n].username}',
                                                                              '${s[n].tag}', '${s[n].referrer}', 'inner_td_agent')">Deduct</a>&nbsp;-&nbsp;
                        <a class="secondary" onclick="open_modal_account_status('${s[n].status}', '${s[n].id}', '${s[n].tag}', 'inner_td_agent')">Status</a>&nbsp;-&nbsp;
                        <a class="secondary" onclick="open_modal_change_password('${s[n].id}', 'inner_td_agent')">Password</a>&nbsp;-&nbsp;
                        <a class="secondary" onclick="open_content_transaction('${s[n].id}', '${s[n].username}')">Wallet logs</a>
                        <div id="inner_td_agent" style="margin-top:10px; display:none;"></div>
                    </td>`):(e='<i class="em em-lock" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="LOCK"></i>',`
                    <td>
                        <a class="secondary" onclick="open_modal_account_status('${s[n].status}', '${s[n].id}', '${s[n].tag}', 'inner_td_agent')">Status</a>&nbsp;-&nbsp;
                        <a class="secondary" onclick="open_content_transaction('${s[n].id}', '${s[n].username}')">Wallet logs</a>
                        <div id="inner_td_agent" style="margin-top:10px; display:none;"></div>
                    </td>`);var r=document.createElement("tr");r.classList="filter_agent",r.innerHTML=`
                    <td>${e}</td>
                    <td>${s[n].id}</td>
                    <td>${upperFirstLetter(s[n].username)}</td>
                    <td class="${t}">₱ ${numberWithCommas(Number(s[n].balance).toFixed(2))}</td>
                    <td>${Number(s[n].percentage).toFixed(2)}%</td>
                    <td>${s[n].referrer}</td>
                    `+a,o.appendChild(r),total_balance+=Number(s[n].balance)}$("#agent_balance").html("₱ "+numberWithCommas(Number(total_balance).toFixed(2))),$("#agent_count").html(s.length)}else{var t=document.createElement("tr");t.classList="filter_agent",t.innerHTML='<td colspan="7">No data yet.</td>',o.appendChild(t),$("#agent_balance").html("₱ 0.00"),$("#agent_count").html("0")}}async function x(){var o=document.getElementById("tbody_content_player"),e=(o.innerHTML="",i),s=[];for(let t=0;t<e.length;t++)e[t].id_master===b.id&&"player"===e[t].tag&&s.push(e[t]);if(total_balance=0,s.sort(function(t,e){return e.balance-t.balance}),0<s.length){for(let n=0;n<s.length;n++){let t;Number(0<s[n].balance)&&(t="pico-color-jade-400");let e,a;a="active"===s[n].status?(e='<i class="em em-unlock" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="OPEN LOCK"></i>',`
                    <td>
                        <a class="secondary" onclick="open_modal_transfer_funds('${s[n].network}', '${s[n].id}', '${s[n].username}',
                                                                                '${s[n].tag}', '${s[n].referrer}', 'inner_td_player')">Transfer</a>&nbsp;-&nbsp;
                        <a class="secondary" onclick="open_modal_deduct_funds('${s[n].network}', '${s[n].id}', '${s[n].username}',
                                                                              '${s[n].tag}', '${s[n].referrer}', 'inner_td_player')">Deduct</a>&nbsp;-&nbsp;
                        <a class="secondary" onclick="open_modal_account_status('${s[n].status}', '${s[n].id}', '${s[n].tag}', 'inner_td_player')">Status</a>&nbsp;-&nbsp;
                        <a class="secondary" onclick="open_modal_change_password('${s[n].id}', 'inner_td_player')">Password</a>&nbsp;-&nbsp;
                        <a class="secondary" onclick="open_content_transaction('${s[n].id}', '${s[n].username}')">Wallet logs</a>
                        <div id="inner_td_player" style="margin-top:10px; display:none;"></div>
                    </td>`):(e='<i class="em em-lock" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="LOCK"></i>',`
                    <td>
                        <a class="secondary" onclick="open_modal_account_status('${s[n].status}', '${s[n].id}', '${s[n].tag}', 'inner_td_player')">Status</a>&nbsp;-&nbsp;
                        <a class="secondary" onclick="open_content_transaction('${s[n].id}', '${s[n].username}')">Wallet logs</a>
                        <div id="inner_td_player" style="margin-top:10px; display:none;"></div>
                    </td>`);var r=document.createElement("tr");r.classList="filter_player",r.innerHTML=`
                    <td>${e}</td>
                    <td>${s[n].id}</td>
                    <td>${upperFirstLetter(s[n].username)}</td>
                    <td class="${t}">₱ ${numberWithCommas(Number(s[n].balance).toFixed(2))}</td>
                    <td>${s[n].referrer}</td>
                    `+a,o.appendChild(r),total_balance+=Number(s[n].balance)}$("#player_balance").html("₱ "+numberWithCommas(Number(total_balance).toFixed(2))),$("#player_count").html(s.length)}else{var t=document.createElement("tr");t.classList="filter_player",t.innerHTML='<td colspan="6">No data yet.</td>',o.appendChild(t),$("#player_balance").html("₱ 0.00"),$("#player_count").html("0")}}a.on("success",async function(t){$(".button_referral").attr("disabled",!0),$(".button_referral").html(`
            <i class="em em-white_check_mark" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="WHITE HEAVY CHECK MARK"></i>&nbsp;
            Copied!`),await new Promise(t=>setTimeout(t,1e3)),$(".button_referral").attr("disabled",!1),$(".button_referral").html(`
            <i class="em em-point_right" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="WHITE RIGHT POINTING BACKHAND INDEX"></i>&nbsp;
            Referral link`)}),$("#button_custom_dates").click(async()=>{k(),$("#button_custom_dates").attr("disabled",!0),$("#button_custom_dates").attr("aria-busy",!0);var t=$("#button_custom_dates_from").val(),e=$("#button_custom_dates_to").val();if(t&&e){var a=getDateRange(t,e);if(a.length<=31){let e="(";for(let t=0;t<a.length;t++)e=e+"'"+a[t]+"', ";e=e.slice(0,-2)+")",h=await K(e),await R()}else $("#button_custom_dates").attr("aria-busy",!1),$("#button_custom_dates").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("#button_custom_dates").attr("disabled",!1),$("#button_custom_dates").html("Custom dates")}else $("#button_custom_dates").attr("aria-busy",!1),$("#button_custom_dates").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("#button_custom_dates").attr("disabled",!1),$("#button_custom_dates").html("Custom dates")}),$("#input_filter_network").alphanum({allow:"",disallow:"",allowSpace:!1,forceLower:!1,maxLength:16}),$("#input_filter_network").on("keyup",async()=>{let e=$("#input_filter_network").val().toLowerCase();$("#tbody_content_winloss_data .filter_network").filter(function(t){$(this).toggle(-1<$(this).text().toLowerCase().indexOf(e))})}),$("#winloss_content_today_checkbox").click(async()=>{await k(),n=await u(),await w()}),$("#winloss_content_yesterday_checkbox").click(async()=>{await k(),o=await m(),await g()}),$("#winloss_content_this_week_checkbox").click(async()=>{await k(),s=await _(),await f()}),$("#winloss_content_last_week_checkbox").click(async()=>{await k(),r=await p(),await y()}),$("#button_refresh_data_agent_accounts").click(async()=>{$("#span_refresh_data_agent_accounts").show(),$("#button_refresh_data_agent_accounts").addClass("button_no_pointer"),i=await c(),await C(),$("#span_refresh_data_agent_accounts").hide(),$("#button_refresh_data_agent_accounts").removeClass("button_no_pointer")}),$("#input_search_agent").alphanum({allow:"",disallow:"",allowSpace:!1,forceLower:!1,maxLength:16}),$("#input_search_agent").on("keyup",async()=>{let e=$("#input_search_agent").val().toLowerCase();$("#tbody_content_agent .filter_agent").filter(function(t){$(this).toggle(-1<$(this).text().toLowerCase().indexOf(e))})}),$("#button_refresh_data_player_accounts").click(async()=>{$("#span_refresh_data_player_accounts").show(),$("#button_refresh_data_player_accounts").addClass("button_no_pointer"),i=await c(),await x(),$("#span_refresh_data_player_accounts").hide(),$("#button_refresh_data_player_accounts").removeClass("button_no_pointer")}),$("#input_search_player").alphanum({allow:"",disallow:"",allowSpace:!1,forceLower:!1,maxLength:16}),$("#input_search_player").on("keyup",async()=>{let e=$("#input_search_player").val().toLowerCase();$("#tbody_content_player .filter_player").filter(function(t){$(this).toggle(-1<$(this).text().toLowerCase().indexOf(e))})});let N,v;function Q(t,e,a){$("#current_percentage").html(numberWithCommas(Number(e).toFixed(2))+"%"),N=t,v=e,$("#"+a).html(`

        <article style="padding:10px; margin:0;">

            <div class="row">

                <div class="column" style="text-align:left; font-weight:bold;">
                    <i class="em em-necktie" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="NECKTIE"></i>&nbsp;
                    Set Percentage
                </div>

                <div class="column" style="text-align:right;">
                    <kbd class="pico-background-zinc-750" style="padding:2px 4px; font-weight:bold; font-size:0.6em; font-family:'Sora',sans-serif;" onclick="close_modal_percentage('${a}')">CLOSE</kbd>
                </div>

            </div>

            <p class="pico-color-zinc-500" style="text-align:left; margin:0; margin-top:10px; font-size:0.8em;">Max percentage: ${Number(b.percentage)-1}%</p>

            <fieldset role="group" style="margin:0; margin-top:10px;">
                <input type="text" placeholder="Enter new percentage" id="input_percentage" style="font-size:1em; padding:5px 10px; height:auto;"/>
                <button id="button_percentage" style="padding:5px 10px; font-size:1em;">Update</button>
            </fieldset>

            <p class="pico-color-zinc-500" style="margin:0; margin-top:10px; font-size:0.8em;"> 
                Note: The existing percentage cannot be lowered further; it can only remain the same or be increased.
            </p>

        </article>

    `),$("#"+a).show(),$("#input_percentage").numeric({allow:"",disallow:"",allowSpace:!1,forceLower:!1,maxLength:16}),$("#button_percentage").click(async()=>{$("input_percentage").attr("disabled",!0),$("#button_percentage").attr("disabled",!0),$("#button_percentage").attr("aria-busy",!0);var t=$("#input_percentage").val();Number(b.percentage)>Number(t)&&Number(t)>Number(v)?await axios.post("/commission/set/percentage",{auth:b.auth,id:b.id,account:N,percentage:t,key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){0===t.data.errCode&&($("#button_percentage").attr("aria-busy",!1),$("#button_percentage").html("Success"),await new Promise(t=>setTimeout(t,1e3)),$("#button_refresh_data_agent_accounts").trigger("click"))}).catch(async function(t){console.log(t),$("#button_percentage").attr("aria-busy",!1),$("#button_percentage").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("input_percentage").attr("disabled",!1),$("#button_percentage").attr("disabled",!1),$("#button_percentage").html("Update")}):($("#button_percentage").attr("aria-busy",!1),$("#button_percentage").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("input_percentage").attr("disabled",!1),$("#button_percentage").attr("disabled",!1),$("#button_percentage").html("Update"))})}async function Z(t){$("#"+t).html(""),$("#"+t).hide(),$("#input_percentage").val(""),$("input_percentage").attr("disabled",!1),$("#button_percentage").attr("disabled",!1),$("#button_percentage").attr("aria-busy",!1),$("#button_percentage").html("Update")}let W,L,F,T,M;function tt(t,e,a,n,o,s){W=t,L=e,F=a,T=n,M=o,$("#"+s).html(`
    
        <article style="padding:10px; margin:0;">

            <div class="row">

                <div class="column" style="text-align:left; font-weight:bold;">
                    <i class="em em-inbox_tray" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="INBOX TRAY"></i>&nbsp;
                    Transfer Funds
                </div>

                <div class="column" style="text-align:right;">
                    <kbd class="pico-background-zinc-750" style="padding:2px 4px; font-weight:bold; font-size:0.6em; font-family:'Sora',sans-serif;" onclick="close_modal_transfer_funds('${s}')">CLOSE</kbd>
                </div>

            </div>

            <p class="pico-color-zinc-500" style="text-align:left; margin:0; margin-top:10px; font-size:0.8em;">The minimum transfer is ₱ 50.00</p>

            <fieldset role="group" style="margin:0; margin-top:10px;">
                <input type="text" placeholder="Enter amount" id="input_transfer_funds" style="font-size:1em; padding:5px 10px; height:auto;"/>
                <button id="button_transfer_funds" style="padding:5px 10px; font-size:1em;">Transfer</button>
            </fieldset>

            <p class="pico-color-zinc-500" style="margin:0; margin-top:10px; font-size:0.8em;">
                Ensure the transaction amount is correct before you proceed. <br> 
                Click <strong>Transfer</strong> to continue, understanding that this transaction is permanent.
            </p>

        </article>

    `),$("#"+s).show(),$("#input_transfer_funds").numeric({allow:"",disallow:"",allowSpace:!1,forceLower:!1,maxLength:16}),$("#button_transfer_funds").click(async()=>{$("input_transfer_funds").attr("disabled",!0),$("#button_transfer_funds").attr("disabled",!0),$("#button_transfer_funds").attr("aria-busy",!0);var t=$("#input_transfer_funds").val();50<=Number(t)?await axios.post("/transaction/transfer/balance",{auth:b.auth,network:b.network,id:b.id,referrer:b.referrer,tag:b.tag,username:b.username,transfer_to_network:W,transfer_to_id:L,transfer_to_username:F,transfer_to_tag:T,transfer_to_referrer:M,transfer_to_amount:Number(t).toFixed(2),key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){0===t.data.errCode?($("#button_transfer_funds").attr("aria-busy",!1),$("#button_transfer_funds").html("Success"),await new Promise(t=>setTimeout(t,1e3)),"master-agent"===T&&$("#button_refresh_data_master_accounts").trigger("click"),"agent"===T&&$("#button_refresh_data_agent_accounts").trigger("click"),"player"===T&&$("#button_refresh_data_player_accounts").trigger("click")):($("#button_transfer_funds").attr("aria-busy",!1),$("#button_transfer_funds").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("input_transfer_funds").attr("disabled",!1),$("#button_transfer_funds").attr("disabled",!1),$("#button_transfer_funds").html("Transfer"))}).catch(async function(t){console.log(t),$("#button_transfer_funds").attr("aria-busy",!1),$("#button_transfer_funds").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("input_transfer_funds").attr("disabled",!1),$("#button_transfer_funds").attr("disabled",!1),$("#button_transfer_funds").html("Transfer")}):($("#button_transfer_funds").attr("aria-busy",!1),$("#button_transfer_funds").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("input_transfer_funds").attr("disabled",!1),$("#button_transfer_funds").attr("disabled",!1),$("#button_transfer_funds").html("Transfer"))})}async function et(t){$("#"+t).html(""),$("#"+t).hide(),$("#input_transfer_funds").val(""),$("input_transfer_funds").attr("disabled",!1),$("#button_transfer_funds").attr("disabled",!1),$("#button_transfer_funds").attr("aria-busy",!1),$("#button_transfer_funds").html("Transfer")}let z,E,j,H,at;function nt(t,e,a,n,o,s){z=t,E=e,j=a,H=n,at=o,$("#"+s).html(`
    
        <article style="padding:10px; margin:0;">

            <div class="row">

                <div class="column" style="text-align:left; font-weight:bold;">
                    <i class="em em-outbox_tray" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="OUTBOX TRAY"></i>&nbsp;
                    Deduct Funds
                </div>

                <div class="column" style="text-align:right;">
                    <kbd class="pico-background-zinc-750" style="padding:2px 4px; font-weight:bold; font-size:0.6em; font-family:'Sora',sans-serif;" onclick="close_modal_deduct_funds('${s}')">CLOSE</kbd>
                </div>

            </div>

            <p class="pico-color-zinc-500" style="text-align:left; margin:0; margin-top:10px; font-size:0.8em;">The minimum deduct is ₱ 50.00</p>

            <fieldset role="group" style="margin:0; margin-top:10px;">
                <input type="text" placeholder="Enter amount" id="input_deduct_funds" style="font-size:1em; padding:5px 10px; height:auto;"/>
                <button id="button_deduct_funds" style="padding:5px 10px; font-size:1em;">Deduct</button>
            </fieldset>

            <p class="pico-color-zinc-500" style="margin:0; margin-top:10px; font-size:0.8em;">
                Ensure the deduction amount is correct before you proceed. <br> 
                Click <strong>Deduct</strong> to continue, understanding that this transaction is permanent.
            </p>

        </article>

    `),$("#"+s).show(),$("#input_deduct_funds").numeric({allow:"",disallow:"",allowSpace:!1,forceLower:!1,maxLength:16}),$("#button_deduct_funds").click(async()=>{$("input_deduct_funds").attr("disabled",!0),$("#button_deduct_funds").attr("disabled",!0),$("#button_deduct_funds").attr("aria-busy",!0);var t=$("#input_deduct_funds").val();50<=Number(t)?await axios.post("/transaction/deduct/balance",{auth:b.auth,network:b.network,id:b.id,referrer:b.referrer,tag:b.tag,username:b.username,deduct_to_network:z,deduct_to_id:E,deduct_to_username:j,deduct_to_tag:H,deduct_to_referrer:at,deduct_to_amount:Number(t).toFixed(2),key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){0===t.data.errCode?($("#button_deduct_funds").attr("aria-busy",!1),$("#button_deduct_funds").html("Success"),await new Promise(t=>setTimeout(t,1e3)),"master-agent"===H&&$("#button_refresh_data_master_accounts").trigger("click"),"agent"===H&&$("#button_refresh_data_agent_accounts").trigger("click"),"player"===H&&$("#button_refresh_data_player_accounts").trigger("click")):($("#button_deduct_funds").attr("aria-busy",!1),$("#button_deduct_funds").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("input_deduct_funds").attr("disabled",!1),$("#button_deduct_funds").attr("disabled",!1),$("#button_deduct_funds").html("Deduct"))}).catch(async function(t){console.log(t),$("#button_deduct_funds").attr("aria-busy",!1),$("#button_deduct_funds").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("input_deduct_funds").attr("disabled",!1),$("#button_deduct_funds").attr("disabled",!1),$("#button_deduct_funds").html("Deduct")}):($("#button_deduct_funds").attr("aria-busy",!1),$("#button_deduct_funds").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("input_deduct_funds").attr("disabled",!1),$("#button_deduct_funds").attr("disabled",!1),$("#button_deduct_funds").html("Deduct"))})}async function ot(t){$("#"+t).html(""),$("#"+t).hide(),$("#input_deduct_funds").val(""),$("input_deduct_funds").attr("disabled",!1),$("#button_deduct_funds").attr("disabled",!1),$("#button_deduct_funds").attr("aria-busy",!1),$("#button_deduct_funds").html("Deduct")}let I,O;function st(t,e,a,n){I=e,O=a,$("#"+n).html(`
    
        <article style="padding:10px; margin:0;">

            <div class="row">
       
                <div class="column" style="text-align:left; font-weight:bold;">
                    <i class="em em-gear" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label=""></i>&nbsp;
                    Account Status
                </div>

                <div class="column" style="text-align:right;">
                    <kbd class="pico-background-zinc-750" style="padding:2px 4px; font-weight:bold; font-size:0.6em; font-family:'Sora',sans-serif;" onclick="close_modal_account_status('${n}')">CLOSE</kbd>
                </div>

            </div>

            <p class="pico-color-zinc-500" style="text-align:left; margin:0; margin-top:10px; font-size:0.8em;">Update user status to</p>

            <div class="pico-background-orange-350" role="button" tabindex="0" style="margin-top:10px; display:none; color:#ffffff; padding:5px 10px; font-size:1em;" id="status_lock_account">
                <i class="em em-lock" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="LOCK"></i>&nbsp;
                Lock this account</div>
            <div class="pico-background-green-350"  role="button" tabindex="0" style="margin-top:10px; display:none; color:#ffffff; padding:5px 10px; font-size:1em;" id="status_unlock_account">
                <i class="em em-unlock" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="OPEN LOCK"></i>&nbsp;
                Unlock this account
            </div>

        </article>

    `),("active"===t?$("#status_lock_account"):$("#status_unlock_account")).show(),$("#"+n).show(),$("#status_lock_account").click(async()=>{$("#status_lock_account").attr("disabled",!0),$("#status_lock_account").attr("aria-busy",!0),await axios.post("/register/status",{auth:b.auth,id:b.id,status_id:I,status:"in-active",key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){0===t.data.errCode?($("#status_lock_account").attr("aria-busy",!1),$("#status_lock_account").html("Success"),await new Promise(t=>setTimeout(t,1e3)),"master-agent"===O&&$("#button_refresh_data_master_accounts").trigger("click"),"agent"===O&&$("#button_refresh_data_agent_accounts").trigger("click"),"player"===O&&$("#button_refresh_data_player_accounts").trigger("click")):($("#status_lock_account").attr("aria-busy",!1),$("#status_lock_account").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("#status_lock_account").attr("disabled",!1),$("#status_lock_account").html('<i class="em em-lock" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="LOCK"></i>&nbsp;Lock this account'))}).catch(async function(t){console.log(t),$("#status_lock_account").attr("aria-busy",!1),$("#status_lock_account").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("#status_lock_account").attr("disabled",!1),$("#status_lock_account").html('<i class="em em-lock" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="LOCK"></i>&nbsp;Lock this account')})}),$("#status_unlock_account").click(async()=>{$("#status_unlock_account").attr("disabled",!0),$("#status_unlock_account").attr("aria-busy",!0),await axios.post("/register/status",{auth:b.auth,id:b.id,status_id:I,status:"active",key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){0===t.data.errCode?($("#status_unlock_account").attr("aria-busy",!1),$("#status_unlock_account").html("Success"),await new Promise(t=>setTimeout(t,1e3)),"master-agent"===O&&$("#button_refresh_data_master_accounts").trigger("click"),"agent"===O&&$("#button_refresh_data_agent_accounts").trigger("click"),"player"===O&&$("#button_refresh_data_player_accounts").trigger("click")):($("#status_unlock_account").attr("aria-busy",!1),$("#status_unlock_account").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("#status_unlock_account").attr("disabled",!1),$("#status_unlock_account").html('<i class="em em-unlock" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="OPEN LOCK"></i>&nbsp;Unlock this account'))}).catch(async function(t){console.log(t),$("#status_unlock_account").attr("aria-busy",!1),$("#status_unlock_account").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("#status_unlock_account").attr("disabled",!1),$("#status_unlock_account").html('<i class="em em-unlock" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="OPEN LOCK"></i>&nbsp;Unlock this account')})})}async function rt(t){$("#"+t).html(""),$("#"+t).hide(),$("#status_lock_account").hide(),$("#status_unlock_account").hide(),$("#status_lock_account").attr("disabled",!1),$("#status_lock_account").attr("aria-busy",!1),$("#status_unlock_account").attr("disabled",!1),$("#status_unlock_account").attr("aria-busy",!1),$("#status_lock_account").html('<i class="em   em-lock" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="LOCK"></i>&nbsp;Lock this account'),$("#status_unlock_account").html('<i class="em em-unlock" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="OPEN LOCK"></i>&nbsp;Unlock this account')}let it;function lt(t,e){it=t,$("#"+e).html(`
    
        <article style="padding:10px; margin:0;">

            <div class="row">
       
                <div class="column" style="text-align:left; font-weight:bold;">
                    <i class="em em-closed_lock_with_key" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="CLOSED LOCK WITH KEY"></i>&nbsp;
                    Change Password
                </div>

                <div class="column" style="text-align:right;">
                    <kbd class="pico-background-zinc-750" style="padding:2px 4px; font-weight:bold; font-size:0.6em; font-family:'Sora',sans-serif;" onclick="close_modal_change_password('${e}')">CLOSE</kbd>
                </div>

            </div>

            <p class="pico-color-zinc-500" style="text-align:left; margin:0; margin-top:10px; font-size:0.8em;">Note: case sensitive</p>

            <fieldset role="group" style="margin:0; margin-top:10px;">
                <input type="text" placeholder="Enter new password" id="input_change_password" style="font-size:1em; padding:5px 10px; height:auto;"/>
                <button id="button_change_password" style="padding:5px 10px; font-size:1em;">Update</button>
            </fieldset>

        </article>

    `),$("#"+e).show(),$("#button_change_password").click(async()=>{$("#button_change_password").attr("disabled",!0),$("#button_change_password").attr("aria-busy",!0);var t=$("#input_change_password").val();await axios.post("/register/password",{auth:b.auth,id:b.id,password_id:it,password:t,key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){0===t.data.errCode?($("#button_change_password").attr("aria-busy",!1),$("#button_change_password").html("Success"),await new Promise(t=>setTimeout(t,1e3)),dt(e)):($("#button_change_password").attr("aria-busy",!1),$("#button_change_password").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("#button_change_password").attr("disabled",!1),$("#button_change_password").html("Update"))}).catch(async function(t){console.log(t),$("#button_change_password").attr("aria-busy",!1),$("#button_change_password").html("Failed"),await new Promise(t=>setTimeout(t,1e3)),$("#button_change_password").attr("disabled",!1),$("#button_change_password").html("Update")})})}async function dt(t){$("#"+t).html(""),$("#"+t).hide(),$("#input_change_password").val(""),$("#input_change_password").attr("disabled",!1),$("#button_change_password").attr("disabled",!1),$("#button_change_password").attr("aria-busy",!1),$("#button_change_password").html("Update")}let ct,ut;async function mt(t,e){ct=t,ut=e;let i=document.getElementById("tbody_content_transaction");$("#user_transaction").html(upperFirstLetter(e)),$(".nav_content").hide(),$("#transaction_content").show(),await axios.post("/transaction/get/history/all",{auth:b.auth,id:b.id,account:t,key:b.key},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(async function(t){if(0===t.data.errCode){i.innerHTML="";var s=t.data.history;if(1<s.length)for(let o=0;o<s.length;o++){let t,e,a,n;"in"===s[o].balance_description&&(t='<i class="em em-inbox_tray"  aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="INBOX TRAY"></i>&nbsp;',e="pico-color-jade-400",a="FROM",n=s[o].balance_from),"out"===s[o].balance_description&&(t='<i class="em em-outbox_tray" aria-role="presentation" style="vertical-align:-2px; font-size:0.7em;" aria-label="OUTBOX TRAY"></i>&nbsp;',e="pico-color-red-400",a="TO",n=s[o].balance_destination);var r=document.createElement("tr");r.innerHTML=`
                            <td style="font-weight:bold;">${t} ${s[o].balance_description.toUpperCase()}</td>
                            <td class="${e}">₱ ${numberWithCommas(Math.abs(s[o].balance_value).toFixed(2))}</td>
                            <td style="font-weight:bold;">${a}</td>
                            <td>${upperFirstLetter(n)}</td>
                            <td>${s[o].balance_hash}</td>
                            <td>${s[o].balance_date}</td>
                            <td>${s[o].balance_time}</td>
                        `,0<Math.abs(s[o].balance_value)&&i.appendChild(r)}else{t=document.createElement("tr");t.innerHTML='<td colspan="7">No data yet.</td>',i.appendChild(t)}}}).catch(function(t){console.log(t)})}function e(){$(".nav_menu").removeClass("sidebar_active"),$(".nav_content").hide()}$("#button_refresh_data_transaction").click(async()=>{$("#span_refresh_data_transaction").show(),$("#button_refresh_data_transaction").addClass("button_no_pointer"),await mt(ct,ut),$("#span_refresh_data_transaction").hide(),$("#button_refresh_data_transaction").removeClass("button_no_pointer")}),$("#dashboard_nav").click(async()=>{e(),$("#dashboard_nav").addClass("sidebar_active"),$("#dashboard_content").show()}),$("#nav_transaction").click(async()=>{e(),$("#nav_transaction").addClass("sidebar_active"),await mt(b.id,b.username)}),$("#nav_winloss").click(async()=>{$("#nav_winloss_loading").show(),$("#nav_winloss").addClass("button_no_pointer"),$("#winloss_content_today_checkbox").trigger("click"),e(),$("#nav_winloss_loading").hide(),$("#nav_winloss").removeClass("button_no_pointer"),$("#nav_winloss").addClass("sidebar_active"),$("#winloss_content").show()}),$("#agent_nav").click(async()=>{await C(),e(),$("#agent_nav").addClass("sidebar_active"),$("#agent_content").show()}),$("#player_nav").click(async()=>{await x(),e(),$("#player_nav").addClass("sidebar_active"),$("#player_content").show()});
